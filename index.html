<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>NEXUS Controller</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-container">
    <header class="header">
      <h1 class="title">
        <span class="title-main">NEXUS</span>
        <span class="title-sub">CONTROLLER</span>
      </h1>
      <div class="connection-status">
        <div class="status-indicator" id="statusIndicator"></div>
        <span id="connectionText">DISCONNECTED</span>
      </div>
    </header>

    <!-- Mode Toggle -->
    <div class="mode-toggle">
      <label class="mode-option">
        <input type="radio" name="mode" value="serial" checked>
        <span class="mode-label">
          <span class="mode-icon">‚ö°</span>
          DIRECT
        </span>
      </label>
      <label class="mode-option">
        <input type="radio" name="mode" value="radio">
        <span class="mode-label">
          <span class="mode-icon">üì°</span>
          WIRELESS
        </span>
      </label>
      <label class="mode-option">
        <input type="radio" name="mode" value="bluetooth">
        <span class="mode-label">
          <span class="mode-icon">üîµ</span>
          BLUETOOTH
        </span>
      </label>
    </div>

    <!-- Serial Mode UI -->
    <div id="serialModePanel" class="mode-panel">
      <div class="serial-layout">
        <div class="motor-controls">
          <div class="motor-slider-group">
            <div class="motor-label">LEFT</div>
            <div class="slider-track">
              <input type="range" min="-255" max="255" value="0" id="leftSlider" class="motor-slider" orient="vertical">
              <div class="slider-indicators">
                <span class="indicator-label">FWD</span>
                <span class="indicator-label">STOP</span>
                <span class="indicator-label">REV</span>
              </div>
            </div>
          </div>
          <div class="motor-slider-group">
            <div class="motor-label">RIGHT</div>
            <div class="slider-track">
              <input type="range" min="-255" max="255" value="0" id="rightSlider" class="motor-slider" orient="vertical">
              <div class="slider-indicators">
                <span class="indicator-label">FWD</span>
                <span class="indicator-label">STOP</span>
                <span class="indicator-label">REV</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="servo-controls">
          <div class="servo-label">SERVO</div>
          <div class="servo-slider-container">
            <input type="range" id="servoSlider" min="0" max="180" value="90" class="servo-slider">
            <div class="servo-value-display">
              <span id="servoValue">90</span>¬∞
            </div>
          </div>
          <div class="servo-presets">
            <button class="servo-preset-btn" data-angle="0">0¬∞</button>
            <button class="servo-preset-btn" data-angle="45">45¬∞</button>
            <button class="servo-preset-btn" data-angle="90">90¬∞</button>
            <button class="servo-preset-btn" data-angle="135">135¬∞</button>
            <button class="servo-preset-btn" data-angle="180">180¬∞</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Radio Mode UI -->
    <div id="radioModePanel" class="mode-panel" style="display: none;">
      <div class="radio-layout">
        <!-- Left Side - D-Pad -->
        <div class="controller-left">
          <div class="dpad-container">
            <div class="dpad">
              <button class="dpad-btn dpad-up input-btn" data-value="4" id="btnUp">‚ñ≤</button>
              <button class="dpad-btn dpad-left input-btn" data-value="6" id="btnLeft">‚óÑ</button>
              <button class="dpad-btn dpad-center"></button>
              <button class="dpad-btn dpad-right input-btn" data-value="7" id="btnRight">‚ñ∫</button>
              <button class="dpad-btn dpad-down input-btn" data-value="5" id="btnDown">‚ñº</button>
            </div>
            <div class="control-label">D-PAD</div>
          </div>
          
          <!-- Left Shoulder -->
          <div class="shoulder-buttons">
            <button class="shoulder-btn input-btn" data-value="10" id="btnL1">L1</button>
            <button class="shoulder-btn input-btn" data-value="12" id="btnL2">L2</button>
          </div>
        </div>

        <!-- Center Area -->
        <div class="controller-center">
          <div class="radio-config">
            <div class="config-item">
              <label for="radioChannel">CH</label>
              <input type="number" id="radioChannel" min="0" max="255" value="1">
              <span id="radioChannelValue">01</span>
            </div>
            <div class="config-item">
              <input type="number" id="customInput" min="0" max="999" placeholder="000">
              <button id="sendCustomBtn" class="send-btn">TX</button>
            </div>
          </div>
          
          <div class="center-buttons">
            <button class="center-btn input-btn" data-value="15" id="btnMenu">MENU</button>
            <button class="center-btn input-btn" data-value="16" id="btnHome">HOME</button>
          </div>
          
          <div class="analog-sticks">
            <div class="analog-stick">
              <button class="stick-btn input-btn" data-value="20" id="btnLS">L3</button>
            </div>
            <div class="analog-stick">
              <button class="stick-btn input-btn" data-value="21" id="btnRS">R3</button>
            </div>
          </div>
        </div>

        <!-- Right Side - Action Buttons -->
        <div class="controller-right">
          <div class="action-buttons-container">
            <div class="action-buttons">
              <button class="action-btn action-y input-btn" data-value="25" id="btnY">Y</button>
              <button class="action-btn action-x input-btn" data-value="1" id="btnA">A</button>
              <button class="action-btn action-a input-btn" data-value="26" id="btnX">X</button>
              <button class="action-btn action-b input-btn" data-value="2" id="btnB">B</button>
            </div>
            <div class="control-label">ACTION</div>
          </div>
          
          <!-- Right Shoulder -->
          <div class="shoulder-buttons">
            <button class="shoulder-btn input-btn" data-value="11" id="btnR1">R1</button>
            <button class="shoulder-btn input-btn" data-value="13" id="btnR2">R2</button>
          </div>
        </div>
      </div>
      
      <!-- Function Buttons -->
      <div class="function-buttons">
        <button class="function-btn input-btn" data-value="30" id="btnStart">START</button>
        <button class="function-btn input-btn" data-value="3" id="btnAB">A+B</button>
        <button class="function-btn input-btn" data-value="31" id="btnTurbo">TURBO</button>
        <button class="function-btn input-btn" data-value="32" id="btnReset">RESET</button>
      </div>
    </div>

    <!-- Bluetooth Mode UI -->
    <div id="bluetoothModePanel" class="mode-panel" style="display: none;">
      <div class="bluetooth-layout">
        <div class="bluetooth-info">
          <div class="bluetooth-status">
            <div class="bluetooth-icon">üîµ</div>
            <div class="bluetooth-text">
              <div class="bluetooth-title">BLUETOOTH MODE</div>
              <div class="bluetooth-subtitle">For Mobile Devices</div>
            </div>
            <button id="bluetoothConnectBtn" class="bluetooth-connect-btn">PAIR</button>
          </div>
          <div class="bluetooth-instructions">
            <p>‚Ä¢ Enable Bluetooth on your device</p>
            <p>‚Ä¢ Tap PAIR to connect to micro:bit</p>
            <p>‚Ä¢ Use touch controls below</p>
          </div>
        </div>
        
        <!-- Touch Control Area -->
        <div class="touch-control-area">
          <div class="touch-pad" id="touchPad">
            <div class="touch-indicator" id="touchIndicator"></div>
            <div class="touch-zones">
              <div class="touch-zone touch-up" data-direction="up">‚Üë</div>
              <div class="touch-zone touch-down" data-direction="down">‚Üì</div>
              <div class="touch-zone touch-left" data-direction="left">‚Üê</div>
              <div class="touch-zone touch-right" data-direction="right">‚Üí</div>
            </div>
          </div>
          
          <div class="touch-buttons">
            <button class="touch-btn" id="touchBtnA">A</button>
            <button class="touch-btn" id="touchBtnB">B</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="bottom-bar">
      <button id="connectButton" class="connect-btn">
        <span class="btn-text">ESTABLISH CONNECTION</span>
      </button>
      <div class="output-display">
        <span class="output-label">TX:</span>
        <span id="serialOutput" class="output-value">--READY--</span>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>